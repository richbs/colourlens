{% extends "base.html" %}

{% block title %}
{% endblock title %}
{% block content %}
<h1 id="colour_me_bad">Colour Search <em>{{found}} results</em></h1>
<h2>{{ colour_count }} colours in this set</h2>
<form action="{% url 'colour_index' %}{% if institution %}{{ institution }}{% endif %}" method="get" accept-charset="utf-8" id="colourpick">
  <ul>
    {% for field in form %}
        <li title="{{field.name|capfirst}}" class="fieldWrapper {{field.field.widget.attrs.class}}">
            {{ field.errors }}
            {{ field }} {% if not field.is_hidden %}{{ field.label_tag }}{% endif %}
        </li>
    {% endfor %}
  </ul>
  <input type="submit" value="Go">
</form>
<div id="colours">
{% for c in colours %}<div style="width: {{c.artworK__count}}px; height:44px; margin:0; padding:0; background-color:{{ c.hex_value}}; display:inline-block;">{{ c.artwork__count }}</div>{% endfor %}
</div>

<ul class="explorerWorks explorerGrid">
  {% for a in artworks  %}
  <li class="grid-work">
		<span>{{ a.institution }}</span>
    <div class="grid-work-image">
      <a href="{{ a.url }}">
        <img alt="Accession number {{ a.accession_number }}" src="{{ a.image_url }}"
        />
      </a>
    </div>
		<h3>{{ a.title|truncatechars:20 }}</h3>
		<p><em>{{ a.artist|truncatechars:20 }}</em></p>
  </li>
  {% endfor %}
</ul>
{% endblock %}
{% block extrascript %}
<script type="text/javascript">
{% if results.filterInfo.currentFilters %}
    Filters.setCurrent({{ results.filterInfo.currentFilters|safe }});
{% endif %}
  // jQuery('#colourpick input').change(function(e){
  //   jQuery(e.target).parents('form').submit();
  // })
</script>
{% endblock %}
{% block extrahead %}
<style type="text/css">
* {
	font-family: "HelveticaNeue-Thin", "Helvetica Neue Light", "Helvetica Neue", 
	Helvetica, Arial, "Lucida Grande", sans-serif;
	-webkit-font-smoothing: antialiased;
}

form#colourpick {
	display: table;
	width: 100%;
	background-color: #444;
	border-radius: 10px 10px;
	margin-bottom: 10px;
}

label {
	color: yellow;
	font-size: 14pt;
}

form#colourpick  ul li {
	list-style: none;
	display: inline-block;
	float: left;
}

form#colourpick ul li.colourbox {
	margin: 13px 0 10px 5px;
}

form#colourpick ul li.slider {
	margin: 4px 0 0px 10px;
}

input[type=submit] {
	float: right;
	margin: 0 10px 0 0;
}

input[type=checkbox] {
	visibility: hidden;
}

/* ROUNDED ONE */
form#colourpick  li.colourbox {
	width: 28px;
	height: 28px;
	background: #fcfff4;
	background: -webkit-linear-gradient(top, #fcfff4 0%, #dfe5d7 40%, #b3bead 100%);
	background: -moz-linear-gradient(top, #fcfff4 0%, #dfe5d7 40%, #b3bead 100%);
	background: -o-linear-gradient(top, #fcfff4 0%, #dfe5d7 40%, #b3bead 100%);
	background: -ms-linear-gradient(top, #fcfff4 0%, #dfe5d7 40%, #b3bead 100%);
	background: linear-gradient(top, #fcfff4 0%, #dfe5d7 40%, #b3bead 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fcfff4', endColorstr='#b3bead',GradientType=0 );
	margin: 20px auto;
	-webkit-border-radius: 50px;
	-moz-border-radius: 50px;
	border-radius: 50px;
	-webkit-box-shadow: inset 0px 1px 1px white, 0px 1px 3px rgba(0,0,0,0.5);
	-moz-box-shadow: inset 0px 4px 1px white, 0px 1px 3px rgba(0,0,0,0.5);
	box-shadow: inset 0px 4px 1px white, 0px 1px 3px rgba(0,0,0,0.5);
	position: relative;
}

#colourpick .colourbox label {
	margin: 0;
	cursor: pointer;
	position: absolute;
	width: 20px;
	height: 20px;
	text-indent: 10000px;
	-webkit-border-radius: 50px;
	-moz-border-radius: 50px;
	border-radius: 50px;
	left: 4px;
	top: 4px;
	-webkit-box-shadow: inset 0px 1px 1px rgba(0,0,0,0.5), 0px 1px 0px rgba(255,255,255,1);
	-moz-box-shadow: inset 0px 1px 1px rgba(0,0,0,0.5), 0px 1px 0px rgba(255,255,255,1);
	box-shadow: inset 0px 1px 1px rgba(0,0,0,0.5), 0px 1px 0px rgba(255,255,255,1);
	background: -webkit-linear-gradient(top, #222 0%, #45484d 100%);
	background: -moz-linear-gradient(top, #222 0%, #45484d 100%);
	background: -o-linear-gradient(top, #222 0%, #45484d 100%);
	background: -ms-linear-gradient(top, #222 0%, #45484d 100%);
	background: linear-gradient(top, #222 0%, #45484d 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#222', endColorstr='#45484d',GradientType=0 );
}

#colourpick .colourbox label::before {
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0.5)";
	filter: alpha(opacity=0.33);
	opacity: 0.33;
	content: '';
	position: absolute;
	width: 16px;
	height: 16px;
	-webkit-border-radius: 50px;
	-moz-border-radius: 50px;
	border-radius: 50px;
	top: 2px;
	left: 2px;
	-webkit-box-shadow: inset 0px 4px 1px white, 0px 1px 3px rgba(0,0,0,0.5);
	-moz-box-shadow: inset 0px 4px 1px white, 0px 1px 3px rgba(0,0,0,0.5);
	box-shadow: inset 0px 4px 1px white, 0px 1px 3px rgba(0,0,0,0.5);
}

#colourpick .colourbox label:hover::before {
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
	filter: alpha(opacity=0.8);
	opacity: 0.8;
}

label[for='id_red']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(255, 0, 0)
}

label[for='id_orange']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(252, 106, 8)
}

label[for='id_yellow']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(255, 255, 0)
}

label[for='id_lime']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 255, 0)
}

label[for='id_cyan']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 255, 255)
}

label[for='id_blue']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 0, 255)
}

label[for='id_magenta']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(255, 0, 255)
}

label[for='id_maroon']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(128, 0, 0)
}

label[for='id_brown']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(107, 48, 2)
}

label[for='id_olive']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(128, 128, 0)
}

label[for='id_green']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 128, 0)
}

label[for='id_teal']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 128, 128)
}

label[for='id_navy']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 0, 128)
}

label[for='id_purple']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(128, 0, 128)
}

label[for='id_black']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(0, 0, 0)
}

label[for='id_white']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(255, 255, 255)
}

label[for='id_silver']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(192, 192, 192)
}

label[for='id_grey']::before {
	font-family: "Helvetica Neue", Helvetica;
	background-color: rgb(128, 128, 128)
}

#colourpick input[type=checkbox]:checked + label::before {
	-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
	filter: alpha(opacity=100) !important;
	opacity: 1 !important;
}

.explorerGrid ul {
	display: block;
}

.explorerGrid li {
	height: inherit;
	min-height: 256px;
	display: inline-block;
}
.grid-work-image {
	padding: 0;
}
</style>
{% endblock extrahead %}
